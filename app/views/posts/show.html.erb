<p id="notice"><%= notice %></p>

<div>
  <div class="row">
      <div class="col">
        <h1><%= @post.title %></h1>

        <br />

        <div class="float-right">
          <%= @post.pic.html_safe %>
        </div>

        <div>
          <%= @post.intro.html_safe %>
        </div>

        <p>
          <%= @post.highlights.html_safe %>
        </p>

        
        <% @post.reviews.each do |review| %>
          <h2 id="<%= review.url %>" class="text-dark">
            <%= link_to review.title, "#{review.device}/#{review.url}" %>
          </h2>

          <div class="card-group">

            <div class="col-lg-7 col-md-7 col-sm-6 col-xs-6 card text-white bg-dark">
              <div class="card-header text-center">
                  <% if review.rating %>
                      <% stars = review.rating %>
                      <% full_stars = stars.floor %>
                      <% empty_stars = 5 - stars %>
                      <% half_star = empty_stars - empty_stars.floor %>

                      <% full_stars.times do %>
                          <%= icon('fas', 'star', class: 'star') %>
                      <% end %>

                      <% if half_star > 0 %>
                        <%= icon('fas', 'star-half-alt', class: 'star') %>
                      <% end %>

                      <% if empty_stars %>
                        <% empty_stars.floor.times do %>
                          <%= icon('far', 'star', class: 'star') %>                  
                        <% end %>
                      <% end %>
                  <% end %>
              </div>
              <div class="card-body">      
                <%= simple_format review.summary %>
              </div>
            </div>
            
            <div class="col-lg-5 col-md-5 col-sm-6 col-xs-6 card bg-white">
              <div class="card-body text-center">
                <%= review.pic.html_safe %>        
              </div>
              <a href="<%= review.buy_on_amazon %>" class="btn btn-warning font-weight-bold text-dark" rel="nofollow" target="_blank">Compre na Amazon</a>
              <br />
            </div>

          </div>

          <br />

          <div class="card-group">
            <div class="card">
              <div class="card-header text-success">
                <h5><%= icon('fas', 'thumbs-up') %> Pros</h5>
              </div>
              <div class="card-body text-success">
                <%= review.pros.html_safe %>
              </div>
            </div>

            <div class="card">
              <div class="card-header text-danger">
                <h5><%= icon('fas', 'thumbs-down') %>  Cons</h5>
              </div>
              <div class="card-body text-danger">
                <%= review.cons.html_safe %>
              </div>
            </div>
          </div>

          <br />

          <div class="row">
            <div class="col">

              <%= review.video ? review.video : "" %>

              <div>
                <%= simple_format review.description %>
              </div>
            </div>
          </div>

          <table class="table table-striped table-dark">
            <thead>
              <tr>
                <th><%= review.title %></th>
                <th>
                  <% if review.rating %>
                      <% stars = review.rating %>
                      <% full_stars = stars.floor %>
                      <% empty_stars = 5 - stars %>
                      <% half_star = empty_stars - empty_stars.floor %>

                      <% full_stars.times do %>
                          <%= icon('fas', 'star', class: 'star-table') %>
                      <% end %>

                      <% if half_star > 0 %>
                        <%= icon('fas', 'star-half-alt', class: 'star-table') %>
                      <% end %>

                      <% if empty_stars %>
                        <% empty_stars.floor.times do %>
                          <%= icon('far', 'star', class: 'star-table') %>                  
                        <% end %>
                      <% end %>
                  <% end %>
                </th>
              </tr>
            </thead>
            <tbody>
              <% unless review.os == "" %>
                <tr>
                  <td><%= icon('fas', 'brain') %> Sistema Operacional</td>
                  <td><%= review.os %></td>
                </tr>
              <% end %>
              <% unless review.camera == "" %>
                <tr>
                  <td><%= icon('fas', 'camera') %> Câmera</td>
                  <td><%= review.camera %></td>
                </tr>
              <% end %>
              <% unless review.storage == "" %>
                <tr>
                  <td><%= icon('fas', 'th') %> Armazenamento</td>
                  <td><%= review.storage %></td>
                </tr>
              <% end %>
              <% unless review.display == "" %>
                <tr>
                  <td><%= icon('fas', 'expand') %> Display</td>
                  <td><%= review.display %></td>
                </tr>
              <% end %>
              <% unless review.resolution == "" %>
                <tr>
                  <td><%= icon('far', 'eye') %> Resolução</td>
                  <td><%= review.resolution %></td>
                </tr>
              <% end %>
              <% unless review.battery == "" %>
                <tr>
                  <td><%= icon('fas', 'battery-three-quarters') %> Bateria</td>
                  <td><%= review.battery %></td>
                </tr>
              <% end %>
              <% unless review.ram == "" %>
                <tr>
                  <td><%= icon('fas', 'memory') %> Ram</td>
                  <td><%= review.ram %></td>
                </tr>
              <% end %>
              <% unless review.weight == "" %>
                <tr>
                  <td><%= icon('fas', 'weight-hanging') %> Peso</td>
                  <td><%= review.weight %></td>
                </tr>
              <% end %>
              <% unless review.backlight == "" %>
                <tr>
                  <td><%= icon('fas', 'lightbulb') %> Retroiluminação</td>
                  <td><%= review.backlight %></td>
                </tr>
              <% end %>
              <% unless review.touchscreen == "" %>
                <tr>
                  <td><%= icon('fas', 'hand-point-up') %> Touchscreen</td>
                  <td><%= review.touchscreen %></td>
                </tr>
              <% end %>
              <% unless review.colors == "" %>
                <tr>
                  <td><%= icon('fas', 'palette') %> Cores</td>
                  <td><%= review.colors %></td>
                </tr>
              <% end %>
              <% unless review.connection == "" %>
                <tr>
                  <td><%= icon('fas', 'wifi') %> Conexão</td>
                  <td><%= review.connection %></td>
                </tr>
              <% end %>
              <% unless review.cpu == "" %>
                <tr>
                  <td><%= icon('fas', 'microchip') %> Processador</td>
                  <td><%= review.cpu %></td>
                </tr>
              <% end %>
              <% unless review.extras == "" %>
                <tr>
                  <td><%= icon('fas', 'hand-holding-usd') %> Extras</td>
                  <td><%= simple_format review.extras %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
          <br />

        <% end %>

        <p>
          <%= @post.guide %>
        </p>
    </div>
  </div>
</div>

<% if @admin %>
  <%= link_to 'Edit', edit_post_path(@post) %> |
  <%= link_to 'Back', posts_path %>
<% end %>
